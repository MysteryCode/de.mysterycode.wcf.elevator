/*
 Elevator.js

 MIT licensed
 Copyright (C) 2015 Tim Holman, http://tholman.com
*/
var Elevator=function(q){function l(a){f||(f=a);a-=f;var b;var d=-e;b=a/(h/2);1>b?b=d/2*b*b+e:(b--,b=-d/2*(b*(b-2)-1)+e);window.scrollTo(0,b);a<h?m=requestAnimationFrame(l):(e=f=null,g=!1,c&&(c.pause(),c.currentTime=0),k&&k.play())}function r(){g&&(cancelAnimationFrame(m),e=f=null,g=!1,c&&(c.pause(),c.currentTime=0),window.scrollTo(0,0))}function t(a){a.addEventListener?a.addEventListener("click",u.elevate,!1):a.attachEvent("onclick",function(){document.documentElement.scrollTop=0;document.body.scrollTop=
0;window.scroll(0,0)})}var n=null,m=null,h=null,p=!1,f=null,e=null,g=!1,c,k,u=this;this.elevate=function(){g||(g=!0,e=document.documentElement.scrollTop||n.scrollTop,p||(h=1.5*e),requestAnimationFrame(l),c&&c.play())};(function(a){n=document.body;var b={duration:void 0,mainAudio:!1,endAudio:!1,preloadAudio:!0,loopAudio:!0},d;for(d in b)void 0===a[d]&&"function"!==typeof d&&(a[d]=b[d]);a.element&&t(a.element);window.requestAnimationFrame&&window.Audio&&window.addEventListener&&(a.duration&&(p=!0,h=
a.duration),window.addEventListener("blur",r,!1),a.mainAudio&&(c=new Audio(a.mainAudio),c.setAttribute("preload",a.preloadAudio),c.setAttribute("loop",a.loopAudio)),a.endAudio&&(k=new Audio(a.endAudio),k.setAttribute("preload","true")))})(q)};
